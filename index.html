<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=Edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Topmarks</title><style>*{box-sizing:border-box}.cxs-96960423 pre .hljs-literal{color:#08e}.cxs-799160745{font-size:48px}.cxs-3954183383{font-size:24px}.cxs-857983649 a:hover{text-decoration:underline}.cxs-3377994344{}.cxs-3377994344:hover{box-shadow:inset 0 0 0 999px rgba(0, 0, 0, .125)}.cxs-96960423{}.cxs-96960423 h1{font-weight:600;line-height:1.25;font-size:48px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h1 h0{}.cxs-96960423 h1 h1{}.cxs-96960423 h1 h2{}.cxs-96960423 h1 h3{}.cxs-96960423 h1 h4{}.cxs-96960423 h1 h5{}.cxs-96960423 h1 h6{}.cxs-96960423 h2{font-weight:600;line-height:1.25;font-size:24px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h2 h0{}.cxs-96960423 h2 h1{}.cxs-96960423 h2 h2{}.cxs-96960423 h2 h3{}.cxs-96960423 h2 h4{}.cxs-96960423 h2 h5{}.cxs-96960423 h2 h6{}.cxs-96960423 h3{font-weight:600;line-height:1.25;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h3 h0{}.cxs-96960423 h3 h1{}.cxs-96960423 h3 h2{}.cxs-96960423 h3 h3{}.cxs-96960423 h3 h4{}.cxs-96960423 h3 h5{}.cxs-96960423 h3 h6{}.cxs-96960423 h4{font-weight:600;line-height:1.25;font-size:16px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h4 h0{}.cxs-96960423 h4 h1{}.cxs-96960423 h4 h2{}.cxs-96960423 h4 h3{}.cxs-96960423 h4 h4{}.cxs-96960423 h4 h5{}.cxs-96960423 h4 h6{}.cxs-96960423 h5{font-weight:600;line-height:1.25;font-size:14px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h5 h0{}.cxs-96960423 h5 h1{}.cxs-96960423 h5 h2{}.cxs-96960423 h5 h3{}.cxs-96960423 h5 h4{}.cxs-96960423 h5 h5{}.cxs-96960423 h5 h6{}.cxs-96960423 h6{font-weight:600;line-height:1.25;font-size:12px;margin-top:32px;margin-bottom:8px}.cxs-96960423 h6 h0{}.cxs-96960423 h6 h1{}.cxs-96960423 h6 h2{}.cxs-96960423 h6 h3{}.cxs-96960423 h6 h4{}.cxs-96960423 h6 h5{}.cxs-96960423 h6 h6{}.cxs-96960423 p{overflow-x:auto;margin-top:0px;margin-bottom:16px}.cxs-96960423 code{font-family:Menlo, monospace;font-size:14px;padding:4px;background-color:#eee;border-radius:2px}.cxs-96960423 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding:16px;margin-top:8px;margin-bottom:32px;background-color:#eee;border-radius:2px}.cxs-96960423 pre .hljs-keyword{color:#08e}.cxs-96960423 pre .hljs-built_in{color:#059}.cxs-96960423 pre .hljs-type{color:#059}.cxs-857983649 a{color:#05a}.cxs-96960423 pre .hljs-number{color:#e08}.cxs-96960423 pre .hljs-regexp{color:#08e}.cxs-96960423 pre .hljs-string{color:#059}.cxs-96960423 pre .hljs-subst{color:#059}.cxs-96960423 pre .hljs-symbol{color:#08e}.cxs-96960423 pre .hljs-class{color:#08e}.cxs-96960423 pre .hljs-function{color:#e08}.cxs-96960423 pre .hljs-title{color:#08e}.cxs-96960423 pre .hljs-params{color:#059}.cxs-96960423 pre .hljs-comment{color:#059}.cxs-96960423 pre .hljs-doctag{color:#059}.cxs-96960423 pre .hljs-meta{color:#059}.cxs-96960423 pre .hljs-meta-keyword{color:#08e}.cxs-96960423 pre .hljs-meta-string{color:#08e}.cxs-96960423 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom-style:solid;border-bottom-width:1px;border-bottom:2px solid #ddd}.cxs-96960423 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-96960423 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-96960423 td{vertical-align:top;line-height:inherit}.cxs-96960423 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-96960423 a{color:#08e;text-decoration: none}.cxs-96960423 a:hover{text-decoration:underline}.cxs-96960423 ul{padding-left:32px;margin-top:0px;margin-bottom:16px}.cxs-857983649{}.cxs-857983649 h1{font-weight:700;letter-spacing:-0.01em;font-size:24px;margin-top:48px;margin-bottom:48px;border-bottom-width:4px;border-bottom-style:solid}.cxs-857983649 img{max-width: 100%;height: auto;margin-top:16px;margin-bottom:16px}.cxs-857983649 h2{font-weight:700;letter-spacing:-0.01em;font-size:24px;margin-top:48px;margin-bottom:48px;border-bottom-width:4px;border-bottom-style:solid}.cxs-857983649 td{vertical-align:top;line-height:inherit}.cxs-857983649 h3{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:48px;margin-bottom:48px;border-bottom-width:2px;border-bottom-style:solid}.cxs-857983649 th{text-align:left;line-height:inherit;vertical-align:bottom}.cxs-857983649 h4{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 h5{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 h6{font-weight:700;letter-spacing:-0.01em;font-size:20px;margin-top:32px;margin-bottom:8px}.cxs-857983649 p{overflow-x:auto;max-width:40em;margin-top:0px;margin-bottom:16px}.cxs-857983649 code{font-family:Menlo, monospace;font-size:14px;color:#05a}.cxs-857983649 pre{font-family:Menlo, monospace;font-size:14px;overflow-x:auto;padding-top:16px;padding-bottom:16px;margin-top:32px;margin-bottom:32px;border-top:1px solid;border-bottom:1px solid}.cxs-857983649 pre .hljs-keyword{color:#05a}.cxs-857983649 pre .hljs-built_in{color:#444}.cxs-857983649 pre .hljs-type{color:#444}.cxs-857983649 pre .hljs-literal{color:#05a}.cxs-857983649 pre .hljs-number{color:#f30}.cxs-857983649 pre .hljs-regexp{color:#05a}.cxs-857983649 pre .hljs-string{color:#444}.cxs-857983649 pre .hljs-subst{color:#444}.cxs-857983649 pre .hljs-symbol{color:#05a}.cxs-857983649 pre .hljs-class{color:#05a}.cxs-857983649 pre .hljs-function{color:#f30}.cxs-857983649 pre .hljs-title{color:#05a}.cxs-857983649 pre .hljs-params{color:#444}.cxs-857983649 pre .hljs-comment{color:#444}.cxs-857983649 pre .hljs-doctag{color:#444}.cxs-857983649 pre .hljs-meta{color:#444}.cxs-857983649 pre .hljs-meta-keyword{color:#05a}.cxs-857983649 pre .hljs-meta-string{color:#05a}.cxs-857983649 hr{margin-top:48px;margin-bottom:48px;border:0px;border-bottom:2px solid}.cxs-857983649 table{border-collapse:separate;border-spacing:0px;max-width:100%;width:100%}.cxs-857983649 ul{list-style:square inside;padding-left:0px;margin-top:0px;margin-bottom:32px}@media screen and (min-width:52em) { .cxs-857983649 h3{font-size:24px} }@media screen and (min-width:52em) { .cxs-857983649 h2{font-size:48px} }@media screen and (min-width:52em) { .cxs-857983649 h1{font-size:48px} }@media screen and (min-width: 52em) { .cxs-799160745{font-size:72px} }@media screen and (min-width: 52em) { .cxs-3954183383{} }</style></head><body style="margin:0;"><div class="Xv" style="font-family:&quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-weight:400;line-height:1.5;color:#000;background-color:#fff;"><nav style="display:flex;align-items:center;padding-top:8px;padding-bottom:8px;padding-left:16px;padding-right:16px;background-color:#fff;"><a href="https://github.com/Topmarks/topmarks" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://npmjs.com/package/topmarks" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">npm</a></nav><header style="text-align:left;"><div style="box-sizing:border-box;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;"><h1 class="cxs-799160745" style="box-sizing:border-box;font-weight:700;letter-spacing:-0.01em;margin:0;border-bottom-width:4px;border-bottom-style:solid;margin-bottom:16px;">topmarks</h1><h2 class="cxs-3954183383" style="box-sizing:border-box;font-weight:700;letter-spacing:-0.01em;margin:0;">CSS Benchmarking command line tool using Chrome&#x27;s remote debugging protocol.</h2><p class="Text" style="box-sizing:border-box;font-size:20px;margin:0;">v1.0.1</p><div style="box-sizing:border-box;margin-left:-8px;margin-right:-8px;padding-top:16px;padding-bottom:16px;"><iframe src="https://platform.twitter.com/widgets/tweet_button.html?text=topmarks%3A%20CSS%20Benchmarking%20command%20line%20tool%20using%20Chrome&#x27;s%20remote%20debugging%20protocol.&amp;url=&amp;via=&amp;hashtags=&amp;size=" height="20" allowtransparency="true" frameborder="0" scrolling="no" style="box-sizing:border-box;width:61px;overflow:hidden;margin:8px;"></iframe><iframe src="https://ghbtns.com/github-btn.html?type=star&amp;count=true&amp;user=Topmarks&amp;repo=topmarks&amp;size=" height="20" frameborder="0" scrolling="no" style="box-sizing:border-box;width:100px;overflow:hidden;margin:8px;"></iframe><div style="display:table;clear:both;"></div></div></div></header><div class="cxs-857983649" style="box-sizing:border-box;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;"><article style="box-sizing:border-box;"><div>
<p><a href="https://travis-ci.org/Topmarks/topmarks"></a> <a href="https://codeclimate.com/github/Topmarks/topmarks"></a> <a href="https://codeclimate.com/github/Topmarks/topmarks/coverage"></a> <a href="https://codeclimate.com/github/Topmarks/topmarks"></a> <a href="https://david-dm.org/Topmarks/topmarks"></a> <a href="http://inch-ci.org/github/Topmarks/topmarks"></a></p>
<p><a href="https://npmjs.org/package/topmarks"></a></p>
<p>CSS Benchmarking command line tool using Chrome's remote debugging protocol.</p>
<hr />
<h2>Installation</h2>
<p>If you want to install Topmarks as a command line tool, just install it globally from <a href="https://docs.npmjs.com/getting-started/installing-node">npm</a>:</p>
<pre>npm install -g topmarks</pre><p>To use Topmarks in a project use:</p>
<pre>npm install --save topmarks</pre><h2>Preparing the Browser for Use With Topmarks</h2>
<p>Topcoat utilizes the remote debugger protocol to send commands to the browser and receive reports. Currently the default plugins are optimized for Chrome.</p>
<p>To start Chrome with remote debugging enabled, it needs to be started from the command line with the <code>--remote-debugging-port=9222</code> flag included (port 9222 is the default).</p>
<p>A helpful script is added to the <code>package.json</code> for starting it on a Mac with Chrome installed in the standard location. From the project directory it can be called using <code>npm run chrome</code> and it will execute:</p>
<pre>/Applications/Google\ Chrome.app/Contents/MacOS/Google\ Chrome --remote-debugging-port=9222 --user-data-dir=<span class="hljs-variable">$TMPDIR</span>/chrome-profiling --no-default-browser-check --window-size=<span class="hljs-string">&quot;800,600&quot;</span></pre><h2><code>Options</code></h2>
<p>Both the command line tool and node interfaces can use an options object.</p>
<p>Options should be formatted as an object with keys corresponding to the plugin slug (camel cased plugin name), and/or a default key.</p>
<p>The option object is flattened by the <code>Topmarks.getOptions</code> method and passed through to the plugin with the plugin specific options overriding any defaults.</p>
<pre><span class="hljs-keyword">import</span> Topmarks <span class="hljs-keyword">from</span> <span class="hljs-string">'topmarks'</span>;

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-keyword">default</span>: {
    url: <span class="hljs-string">&quot;http://topcoat.io&quot;</span>,
    port: <span class="hljs-number">9223</span>
  },
  somePlugin: {
    url: <span class="hljs-string">&quot;http://google.com&quot;</span>
  }
};

<span class="hljs-keyword">const</span> topmarks = <span class="hljs-keyword">new</span> Topmarks(options);
<span class="hljs-built_in">console</span>.log(topmarks.getOptions(<span class="hljs-string">'somePlugin'</span>));</pre><p>Output:</p>
<pre>{
  url: <span class="hljs-string">&quot;http://google.com&quot;</span>,
  port: <span class="hljs-number">9223</span>
}</pre><p>If no options object is provided Topmarks will use these defaults:</p>
<pre>{
  <span class="hljs-keyword">default</span>: {
    port: <span class="hljs-number">9222</span>,
    url: <span class="hljs-string">'http://topcoat.io'</span>
  }
}</pre><h2>Usage</h2>
<h3>CLI</h3>
<p>Topmarks can also be run from the command line (if installed globally) or as an <a href="https://docs.npmjs.com/misc/scripts">npm script</a>.</p>
<p>When installed globally, Topmarks is available from the command line as the <code>topm</code> command.</p>
<pre>topm --help</pre><p>Will return the list of commands and options:</p>
<ul>
<li><code>-h, --help</code> - output usage information.</li>
<li><code>-V, --version</code> - output the version number.</li>
<li><code>-p, --port [port]</code> - The debugging port for google-chrome (default: 9222).</li>
<li><code>-u, --url [url]</code> - Writes results to json file (default: <code>http://topcoat.io</code>).</li>
<li><code>-o, --output [filename]</code> - Writes results to json file as an array of result objects.</li>
<li><code>-a, --append-output</code> - Appends results data to the end of an existing json file (defined in <code>--output</code>).</li>
<li><p><code>-q, --plugins [plugin(s)]</code> - A list of Topmark test plugins to run (runs <a href="#default-plugins">default plugins</a> if not specified). Currently you have to pass an absolute path to the plugin, something I'd like to fix in the future.</p>
<pre>topm --plugins <span class="hljs-string">&quot;[/path/to/some-plugin,/path/to/another-plugin]&quot;</span></pre></li>
<li><p><code>-t, --parameters [string of options]</code> - A JSON string of options to be passed to plugins.</p>
<pre>topm --parameters <span class="hljs-string">&quot;{default:{url:'http://example.com'}}&quot;</span></pre></li>
</ul>
<h3>Node</h3>
<p>Topmarks can also be run by <a href="https://nodejs.org/en/">Node.js</a>.</p>
<pre><span class="hljs-keyword">import</span> Topmarks <span class="hljs-keyword">from</span> <span class="hljs-string">'topmarks'</span>;

<span class="hljs-keyword">const</span> topmarks = <span class="hljs-keyword">new</span> Topmarks({ <span class="hljs-keyword">default</span>: { url: <span class="hljs-string">&quot;http://google.com&quot;</span> } });
topmarks.register(<span class="hljs-string">'topmark-loadspeed'</span>).then(() =&gt; {
  <span class="hljs-comment">//Do something after loading plugins</span>
  <span class="hljs-comment">//Get access to the results provided by `topmarks.results`</span>
}).catch(<span class="hljs-built_in">console</span>.log);</pre><h2>Plugins</h2>
<h3>Default Plugins</h3>
<p>The current default plugins included with topmarks:</p>
<ul>
<li><a href="https://github.com/Topmarks/topmark-loadspeed"><code>topmark-loadspeed</code></a> - reports the time taken to load a website.</li>
<li><a href="https://github.com/Topmarks/topmark-scrollspeed"><code>topmark-scrollspeed</code></a> - simulates scrolling and measures the performance of the animation frames.</li>
</ul>
<h3>Custom Plugins</h3>
<p>If you'd like to write your own plugins to run tests on Topmarks take a look at how the default plugins are written.</p>
<p>Make sure to include the <code>topmarks-plugin</code> <a href="https://www.npmjs.com/package/keywords">keyword in your <code>package.json</code></a> when publishing to npm if you want it to be included in the <a href="https://www.npmjs.com/search?q=topmarks-plugin">correct search</a></p>
</div></article></div><footer><div style="box-sizing:border-box;margin-bottom:32px;padding-top:8px;padding-bottom:8px;padding-left:32px;padding-right:32px;"><div style="margin-left:-16px;margin-right:-16px;"><a href="https://github.com/Topmarks/topmarks" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">GitHub</a><a href="https://github.com/Topmarks" class="Link" style="box-sizing:border-box;color:inherit;display:inline-block;font-size:14px;line-height:16px;padding-left:16px;padding-right:16px;padding-top:16px;padding-bottom:16px;font-weight:600;text-decoration:none;">Topmarks</a></div><div></div></div></footer></div><div style="font-family:-apple-system, sans-serif;font-size:12px;font-weight:600;text-align:right;padding:24px;color:#333;background-color:#eee;"><a href="http://compositor.io" style="color:inherit;text-decoration:none;">Built with Compositor.io</a></div></body></html>